<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `Voice` struct in crate `cpal`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, Voice">

    <title>cpal::Voice - Rust</title>

    <link rel="stylesheet" type="text/css" href="../main.css">

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <section class="sidebar">
        
        <p class='location'><a href='index.html'>cpal</a></p><script>window.sidebarCurrent = {name: 'Voice', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </section>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content struct">
<h1 class='fqn'><span class='in-band'>Struct <a href='index.html'>cpal</a>::<wbr><a class='struct' href=''>Voice</a></span><span class='out-of-band'><span id='render-detail'>
            <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                [<span class='inner'>&#x2212;</span>]
            </a>
        </span><a id='src-4597' class='srclink' href='../src/cpal/lib.rs.html#277-280' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct Voice {
    // some fields omitted
}</pre><div class='docblock'><p>Controls a sound output. A typical application has one <code>Voice</code> for each sound
it wants to output.</p>

<p>A voice must be periodically filled with new data by calling <code>append_data</code>, or the sound
will stop playing.</p>

<p>Each <code>Voice</code> is bound to a specific number of channels, samples rate, and samples format,
which can be retreived by calling <code>get_channels</code>, <code>get_samples_rate</code> and <code>get_samples_format</code>.
If you call <code>append_data</code> with values different than these, then cpal will automatically
perform a conversion on your data.</p>

<p>If you have the possibility, you should try to match the format of the voice.</p>
</div><h2 id='methods'>Methods</h2><h3 class='impl'><code>impl <a class='struct' href='../cpal/struct.Voice.html' title='cpal::Voice'>Voice</a></code></h3><div class='impl-items'><h4 id='method.new' class='method'><code>fn <a href='#method.new' class='fnname'>new</a>(endpoint: &amp;<a class='struct' href='../cpal/struct.Endpoint.html' title='cpal::Endpoint'>Endpoint</a>, format: &amp;<a class='struct' href='../cpal/struct.Format.html' title='cpal::Format'>Format</a>) -&gt; <a class='enum' href='http://doc.rust-lang.org/nightly/core/result/enum.Result.html' title='core::result::Result'>Result</a>&lt;<a class='struct' href='../cpal/struct.Voice.html' title='cpal::Voice'>Voice</a>, <a class='enum' href='../cpal/enum.CreationError.html' title='cpal::CreationError'>CreationError</a>&gt;</code></h4>
<div class='docblock'><p>Builds a new channel.</p>
</div><h4 id='method.format' class='method'><code>fn <a href='#method.format' class='fnname'>format</a>(&amp;self) -&gt; &amp;<a class='struct' href='../cpal/struct.Format.html' title='cpal::Format'>Format</a></code></h4>
<div class='docblock'><p>Returns the format used by the voice.</p>
</div><h4 id='method.get_channels' class='method'><code>fn <a href='#method.get_channels' class='fnname'>get_channels</a>(&amp;self) -&gt; <a class='type' href='../cpal/type.ChannelsCount.html' title='cpal::ChannelsCount'>ChannelsCount</a></code></h4>
<div class='docblock'><p>DEPRECATED: use <code>format</code> instead. Returns the number of channels.</p>

<p>You can add data with any number of channels, but matching the voice&#39;s native format
will lead to better performances.</p>
</div><h4 id='method.get_samples_rate' class='method'><code>fn <a href='#method.get_samples_rate' class='fnname'>get_samples_rate</a>(&amp;self) -&gt; <a class='struct' href='../cpal/struct.SamplesRate.html' title='cpal::SamplesRate'>SamplesRate</a></code></h4>
<div class='docblock'><p>DEPRECATED: use <code>format</code> instead. Returns the number of samples that are played per second.</p>

<p>You can add data with any samples rate, but matching the voice&#39;s native format
will lead to better performances.</p>
</div><h4 id='method.get_samples_format' class='method'><code>fn <a href='#method.get_samples_format' class='fnname'>get_samples_format</a>(&amp;self) -&gt; <a class='enum' href='../cpal/enum.SampleFormat.html' title='cpal::SampleFormat'>SampleFormat</a></code></h4>
<div class='docblock'><p>DEPRECATED: use <code>format</code> instead. Returns the format of the samples that are accepted by the backend.</p>

<p>You can add data of any format, but matching the voice&#39;s native format
will lead to better performances.</p>
</div><h4 id='method.get_period' class='method'><code>fn <a href='#method.get_period' class='fnname'>get_period</a>(&amp;self) -&gt; <a href='http://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a></code></h4>
<div class='docblock'><p>Returns the minimum number of samples that should be put in a buffer before it is
processable by the audio output.</p>

<p>If you put less than this value in the buffer, the buffer will not be processed and you
risk an underrun.</p>
</div><h4 id='method.append_data' class='method'><code>fn <a href='#method.append_data' class='fnname'>append_data</a>(&amp;mut self, max_samples: <a href='http://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>) -&gt; <a class='enum' href='../cpal/enum.UnknownTypeBuffer.html' title='cpal::UnknownTypeBuffer'>UnknownTypeBuffer</a></code></h4>
<div class='docblock'><p>Adds some PCM data to the voice&#39;s buffer.</p>

<p>This function indirectly returns a <code>Buffer</code> object that must be filled with the audio data.
The size of the buffer being returned depends on the current state of the backend
and can&#39;t be known in advance. However it is never greater than <code>max_samples</code>.</p>

<p>You must fill the buffer <em>entirely</em>, so do not set <code>max_samples</code> to a value greater
than the amount of data available to you.</p>

<p>Channels are interleaved. For example if you have two channels, you must write
the first sample of the first channel, then the first sample of the second channel,
then the second sample of the first channel, then the second sample of the second
channel, etc.</p>

<h2 id="panic" class='section-header'><a
                           href="#panic">Panic</a></h2>
<p>Panics if <code>max_samples</code> is 0.</p>
</div><h4 id='method.play' class='method'><code>fn <a href='#method.play' class='fnname'>play</a>(&amp;mut self)</code></h4>
<div class='docblock'><p>Sends a command to the audio device that it should start playing.</p>

<p>Has no effect is the voice was already playing.</p>

<p>Only call this after you have submitted some data, otherwise you may hear
some glitches.</p>
</div><h4 id='method.pause' class='method'><code>fn <a href='#method.pause' class='fnname'>pause</a>(&amp;mut self)</code></h4>
<div class='docblock'><p>Sends a command to the audio device that it should stop playing.</p>

<p>Has no effect is the voice was already paused.</p>

<p>If you call <code>play</code> afterwards, the playback will resume exactly where it was.</p>
</div><h4 id='method.get_pending_samples' class='method'><code>fn <a href='#method.get_pending_samples' class='fnname'>get_pending_samples</a>(&amp;self) -&gt; <a href='http://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a></code></h4>
<div class='docblock'><p>Returns the number of samples in the buffer that are currently being processed by the
audio playback backend.</p>

<p>This function is useful to determine how much time it will take to finish playing the
current sound.</p>
</div><h4 id='method.underflowed' class='method'><code>fn <a href='#method.underflowed' class='fnname'>underflowed</a>(&amp;self) -&gt; <a href='http://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a></code></h4>
<div class='docblock'><p>Returns true if the voice has finished reading all the data you sent to it.</p>
</div></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <div id="help" class="hidden">
        <div>
            <div class="shortcuts">
                <h1>Keyboard Shortcuts</h1>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                </dl>
            </div>

            <div class="infos">
                <h1>Search Tricks</h1>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>typedef</code> (or
                    <code>tdef</code>).
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code>)
                </p>
            </div>
        </div>
    </div>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "cpal";
        window.playgroundUrl = "";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    
    <script async src="../search-index.js"></script>
</body>
</html>